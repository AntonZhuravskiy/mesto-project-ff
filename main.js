(()=>{"use strict";function e(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",n)}function t(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",n)}function n(e){if("Escape"===e.key){var n=document.querySelector(".popup_is-opened");n&&t(n)}}function r(e){e.target.classList.contains("popup")&&t(e.target)}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e,t,n){return(t=function(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=document.querySelector(".popup_type_edit"),a=document.querySelector(".popup_type_new-card"),p=document.querySelector(".popup_type_image"),l=p.querySelector(".popup__image"),s=p.querySelector(".popup__caption"),d=document.querySelector(".profile__edit-button"),m=document.querySelector(".profile__add-button"),f=document.querySelectorAll(".popup__close"),y=document.querySelector(".places__list"),v=document.forms["edit-profile"],b=v.elements.name,_=v.elements.description,k=document.querySelector(".profile__title"),S=document.querySelector(".profile__description"),g=document.forms["new-place"],h=g.elements["place-name"],j=g.elements.link,q={cardDelete:function(e){e.remove()},handleLike:function(e){e.classList.toggle("card__like-button_is-active")},openImagePopup:function(t){l.src=t.link,l.alt=t.name,s.textContent=t.name,e(p)}};function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prepend",n=function(e){var t=e.cardData,n=e.cardDelete,r=e.handleLike,o=e.openImagePopup,c=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),i=c.querySelector(".card__image"),u=c.querySelector(".card__title"),a=c.querySelector(".card__delete-button"),p=c.querySelector(".card__like-button");return i.src=t.link,i.alt=t.name,u.textContent=t.name,a.addEventListener("click",function(){return n(c)}),p.addEventListener("click",function(){return r(p)}),i.addEventListener("click",function(){return o(t)}),c}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({cardData:e},q));y[t](n)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach(function(e){return E(e,"append")}),d.addEventListener("click",function(){b.value=k.textContent,_.value=S.textContent,e(u)}),m.addEventListener("click",function(){e(a)}),f.forEach(function(e){var n=e.closest(".popup");e.addEventListener("click",function(){return t(n)})}),document.querySelectorAll(".popup").forEach(function(e){return e.addEventListener("mousedown",r)}),v.addEventListener("submit",function(e){e.preventDefault(),k.textContent=b.value,S.textContent=_.value,t(u)}),g.addEventListener("submit",function(e){e.preventDefault(),E({name:h.value,link:j.value}),t(a),g.reset()})})();